# インターフェイスについて
- インターフェイスとは機能の実装を企画する仕組みで､オブジェクト指向のプログラミングに置いてよく使われる｡
- インターフェイスとは､複数の異なるクラスに共通の機能を実装するために､その 実態を定義することなく指定する仕組み｡
- インターフェイスを用いると､特定のオブジェクトが特定の機能(メソッド)を有することが保証される｡
- インターフェイスのメソッドはpublicでなければならない｡
- インターフェイスの定義には､実態のあるメソッドを定義することはできない｡
- このインターフェイスを実装しなければいけないメソッドを定義する｡
- インターフェイスをクラスに実装する場合､implementキーワードを使う｡
- 複数のインターフェイスを同時に実装することも可能｡
```php
<?php

interface LikeInterface //新しくlikeinterfaceというインターフェイスを作る
{
    public function like(); //定義を強制したいメソッド
}
    
abstract class BasePost
{
  protected $text;

  public function __construct($text)
  {
    $this->text = $text;
  }

  abstract public function show();
}

class Post extends BasePost　inplements　LikeInterface //inplementsでインターフェイスを実装することができる
{
  private $likes = 0; //likeメソッドを定義し､初期値として0を入れておく
  public function like()
  {
      $this->likes++; //likesプロパティを1増やす
  }
    
  public function show()
  {
    printf('%s (%d)' . PHP_EOL, $this->text,$this->likes); //showメソッドでもlikeを表示できるようにする
  }
}

class SponsoredPost extends BasePost
{
  private $sponsor;

  public function __construct($text, $sponsor)
  {
    parent::__construct($text);
    $this->sponsor = $sponsor;
  }

  public function show()
  {
    printf('%s by %s' . PHP_EOL, $this->text, $this->sponsor);
  }
}

class PremiumPost extends BasePost　inplements LikeInterface
{
  private $price;
  private $likes = 0; //宣言と初期化
    
    public function like () 
    {
        $this -> likes++;
    }


  public function __construct($text, $price)
  {
    parent::__construct($text);
    $this->price = $price;
  }

  public function show()
  {
    printf('%s [%d JPY]' . PHP_EOL, $this->text, $this->likes,$this->price); //showメソッドでlikesも表示できるようにする
  }
}

$posts = [];
$posts[0] = new Post('hello');
$posts[1] = new Post('hello again');
$posts[2] = new SponsoredPost('hello hello', 'dotinstall');
$posts[3] = new PremiumPost('hello there', 300);

$posts[0]-> like();
$posts[3]-> like(); //postsの0番目と3番めでlikeが増える

function processPost(BasePost $post) 
{
  $post->show();
}

foreach ($posts as $post) {
  processPost($post);
}
```

#　インターフェイスでの型の継承について
クラスを継承すると､その方も継承されるが､インターフェイスでも同様に型の継承が行える｡
同じインターフェイスを実装していれば､同じ型として扱うことができる｡
```php
<?php

$posts = [];
$posts[0] = new Post('hello');
$posts[1] = new Post('hello again');
$posts[2] = new SponsoredPost('hello hello', 'dotinstall');
$posts[3] = new PremiumPost('hello there', 300);

// $posts[0]->like();　新たなコードを作成したので不要
// $posts[3]->like();

function processLikable(LikeInterface $likable) //引数には型付けをするのでlikeinterfaceのlikebleという引数を受け取る
{
  $likable->like();// likebleのlikeメソッドを呼び出す
}

processLikable($posts[0]);
processLikable($posts[3]);

```
#　トレイトについて
コードの重複を整理するために使う｡コードの断片を使いまわしたい時に便利｡  
トレイトは型ではないのでクラスの継承やインターフェイスと違って､同じトレイトを使ったからといって､同じ型として扱うことができるわけではない
```php
<?php

trait LikeTrait　//traitを使って整理する.共通のコードを{}内に入れる
{
  private $likes = 0;
  
  public function like()
  {
    $this->likes++;
  }
} //

interface LikeInterface
{
  public function like();
}

abstract class BasePost
{
  protected $text;

  public function __construct($text)
  {
    $this->text = $text;
  }

  abstract public function show();
}

class Post extends BasePost implements LikeInterface
{
  use LikeTrait;　//この一文を書くとtraitの中に入れたコードが使用できるようになる

  public function show()
  {
    printf('%s (%d)' . PHP_EOL, $this->text, $this->likes);
  }
}

class SponsoredPost extends BasePost
{
  private $sponsor;

  public function __construct($text, $sponsor)
  {
    parent::__construct($text);
    $this->sponsor = $sponsor;
  }

  public function show()
  {
    printf('%s by %s' . PHP_EOL, $this->text, $this->sponsor);
  }
}

class PremiumPost extends BasePost implements LikeInterface
{
  use LikeTrait;　//traitを書いて重複箇所を削る

  private $price;

  public function __construct($text, $price)
  {
    parent::__construct($text);
    $this->price = $price;
  }

  public function show()
  {
    printf('%s (%d) [%d JPY]' . PHP_EOL, $this->text, $this->likes, $this->price);
  }
}

$posts = [];
$posts[0] = new Post('hello');
$posts[1] = new Post('hello again');
$posts[2] = new SponsoredPost('hello hello', 'dotinstall');
$posts[3] = new PremiumPost('hello there', 300);

$posts[0]->like();
$posts[3]->like();

function processPost(BasePost $post) 
{
  $post->show();
}

foreach ($posts as $post) {
  processPost($post);
}
```